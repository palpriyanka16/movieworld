<!DOCTYPE html>
<head>
<title>Movie world</title>
<script src="bootstrap.js"></script>
<meta name="viewport" "width=device-width,initial-scale=1">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="jquery.easydropdown.js" type="text/javascript"></script>
<link type="text/css" rel="stylesheet" href="movieworld.css"/>
<link type="text/css" rel="stylesheet" href="bootstrap.css"/>
<link type="text/css" rel="stylesheet" href="bootstrap2.css"/>
<link rel="stylesheet" type="text/css" href="easydropdown.css"/>
<link href="https://fonts.googleapis.com/css?family=Anton" rel="stylesheet">
<script src="jquery-1.12.1.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="bootstrap2.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Vollkorn" rel="stylesheet">
 </head> 
<body onload="slideshow()">
<div class="container"id="div1">

<p id="welcome1">WELCOME<br> <span id="welcome2">TO THE AMAZING WORLD OF MOVIES AND TV SHOWS<br></span><a href="#div2" id="scrolldown"><img src="arrow.png" id="scroll"></a></p>



</div>
<div class="container" id="div2">
  <h2>KNOW ABOUT YOUR FAVOURITE MOVIES JUST BY A CLICK RIGHT AWAY! </h2>

<div class="row" style="margin-top:3em;">
  <div class="col-sm-4">Search by movie title</div>
  <div class="col-sm-8">Choose the type of info you want about the film</div>
</div>

<div class="row">
  <div class="col-sm-4"><input id="title" type="text" required autocomplete="off"/></div>
  <div class="col-sm-4"><select id="option" type="text" class="dropdown">
                          <option>Genre</option>
                          <option>Date of Release</option>
                          <option>Actors</option>
                          <option>Director</option>
                          <option>Writer</option>
                          <option>Plot</option>
                          <option>Awards</option>
                          <option>Imdb rating</option>

                          </select>

    </div>
    <div class="col-sm-4"><button id="search" onclick="formurl()" class="btn btn-info">SEARCH</button><button id="reset" style="margin-left:2em;"  class="btn btn-info">RESET</button></div>
</div>

<div  id="infodiv">
  <div class="row">
  <div class="col-sm-6"><p id="info"></p></div>
  <div class="col-sm-6"><img id="poster" src="" alt=" "></div>
  </div>
</div>
<div style="width:50%;margin-top:5em;">
  <p id="feature1">To get all the necessary information about your favourite movies,all you need to do is type the movie name and select the kind of info you want and click on the search button.A subsequent click on the same button will hide the info</p>
</div>  
 
</div>

<div class="container" id="div3"></div>


<div class="container" id="div4">
<h2>COMPARE THE IMDB RATINGS  OF ANY  4 MOVIES OF YOUR CHOICE!</h2>  
<div class="row" style="margin-top:5em;">
  <div class="col-sm-3">Movie 1</input></div>
  <div class="col-sm-3">Movie 2</input></div>
  <div class="col-sm-3">Movie 3</input></div>
  <div class="col-sm-3">Movie 4</input></div>
</div>  
<div class="row" style="margin-top:0em;">
  <div class="col-sm-3"><input id="title1" type="text" required autocomplete="off"></input></div>
  <div class="col-sm-3"><input id="title2" type="text" required autocomplete="off"></input></div>
  <div class="col-sm-3"><input id="title3" type="text" required autocomplete="off"></input></div>
  <div class="col-sm-3"><input id="title4" type="text" required autocomplete="off"></input></div>
</div>
<button id="compare" onclick="compare()" type="button" class="btn btn-info" >COMPARE</button>
<button id="reset2"  type="button" class="btn btn-info" style="margin-left:4em;" >RESET</button>


<!--<div class="row" style="margin-top:5em;">
  <div class="col-sm-3"><img src="" alt="  " id="img1"></div>
  <div class="col-sm-3"><img src="" alt="  " id="img2"></input></div>
  <div class="col-sm-3"><img src="" alt="  " id="img1"></input></div>
  <div class="col-sm-3"><img src="" alt="  " id="img1"></input></div>
</div>-->

<div id="comparison">
<div id="demo"></div>
<div class="row">
  <div class="col-sm-3"><img id="poster1" src="" alt=" "></div>
  <div class="col-sm-3"><img id="poster2" src="" alt=" "></div>
  <div class="col-sm-3"><img id="poster3" src="" alt=" "></div>
  <div class="col-sm-3"><img id="poster4" src="" alt=" "></div>
</div>
</div>

<div class="row" style="margin-top:3em;">
<div class="col-sm-8" id="feature2">How often have u been confused about which movie to watch?!The solution is right here,you can compare the imdb ratings of any  movies of your choice.The movie names and their posters will be displayed in decreasing order of IMdB ratings.Enter the names of 4 movies and click on the  button.A subsequent click on the button will hide the information displayed</div>
<div class="col-sm-4"><img src="imdb2.jpg" alt=" "></div>
</div> 











</div>

























<script>
function myFunction(url)
{ 
  var c=document.getElementById("option").value;
  var xhttp=new XMLHttpRequest();
  xhttp.onreadystatechange=function()
  {
    if(xhttp.readyState==4 && xhttp.status==200)
     {
      var obj=JSON.parse(xhttp.responseText);
       switch(c)
          {
          case 'Genre':
          document.getElementById("info").innerHTML=obj.Genre;
          break;
          case 'Date of Release':
          document.getElementById("info").innerHTML=obj.Released;
          
          break;
          case 'Director':
          document.getElementById("info").innerHTML=obj.Director;
          
          break;
          case 'Actors':
          document.getElementById("info").innerHTML=obj.Actors;
          break;

          case 'Writer':

          document.getElementById("info").innerHTML=obj.Writer;
          break;
          case 'Plot':
          
          document.getElementById("info").innerHTML=obj.Plot;
          break;
          case 'Awards':
          document.getElementById("info").innerHTML=obj.Awards;
          
           break;
          case 'Imdb rating':
          document.getElementById("info").innerHTML=obj.imdbRating;
          break;

           }
       
        document.getElementById("poster").src=obj.Poster;
        document.getElementById("download").href=obj.Poster;

     }
   }
  xhttp.open("GET",url,true);
  xhttp.send();
}
function formurl()
 {
   var title= document.getElementById("title").value;
   var option=document.getElementById("option");
   var url="http://www.omdbapi.com/?t="+title+"&plot=full";
   myFunction(url);
 }
var obj;var j;var max=0;var big;
function getobject(title)
{ 
  var url="http://www.omdbapi.com/?t="+title;
  var xhttp=new XMLHttpRequest();
  //xhttp.onreadystatechange=function()
  //{if(xhttp.readyState==4 && xhttp.status==200)
  //{  ob=JSON.parse(xhttp.responseText);
     
     //document.getElementById("demo").innerHTML=xttp.responseText;
  //}
  //}
  //document.getElementById("demo2").innerHTML=j;
  xhttp.open("GET",url,false);
  xhttp.send();
  //document.getElementById("demo").innerHTML=xhttp.responseText;
  obj.push(JSON.parse(xhttp.responseText));
  
 if(Number(obj[j].imdbRating)>max)
 {max=obj[j].imdbRating;big=obj[j];}
  j++;
  if(j==4)
  {//document.getElementById("demo").innerHTML=big.Title;
   display(obj);
  }
  
  //return txt;
  
}
function compare()
{ 
  var title1=document.getElementById("title1").value;
  var title2=document.getElementById("title2").value;
  var title3=document.getElementById("title3").value;
  var title4=document.getElementById("title4").value;
  var ar=[title1,title2,title3,title4];
  var i; obj=[]; j=0;
  for(i=0;i<ar.length;i++)
   {
    getobject(ar[i]);
    //document.getElementById("demo").innerHTML=ob.Genre;

    }
  
//document.getElementById("demo").innerHTML=obj[3].Genre;
}


function display(a)
{
  var m,n;var out="<ul>";var temp;
  for(m=0;m<a.length-1;m++)
  {
    
    for(n=0;n<((a.length-m)-1);n++)
    {
      if(Number(a[n].imdbRating)<Number(a[n+1].imdbRating))
       {
        temp=a[n];
        a[n]=a[n+1];
        a[n+1]=temp;
       } 
    }

  }


  for(m=0;m<a.length;m++)
  {
    out+="<li>"+a[m].Title+" Imdb Rating:"+a[m].imdbRating+"</li>";
  }
  document.getElementById("poster1").src=a[0].Poster;
  document.getElementById("poster2").src=a[1].Poster;
  document.getElementById("poster3").src=a[2].Poster;
  document.getElementById("poster4").src=a[3].Poster;



  out+="</ul>";
  document.getElementById("demo").innerHTML=out;

}
 var back1="movieback.jpg";
 var back2="background1.png";
 var back3="background2.png";
 var imar=[back1,back2,back3];
 var timer;

function slideshow()
{ var i=0;
  //clearInterval(timer);
  timer=setInterval(function()
                    { if(i>=3) i=0;
                      if(i==0)
                      document.getElementById("div1").style.backgroundImage="url('movieback.jpg')";
                      else if(i==1)
                      document.getElementById("div1").style.backgroundImage="url('movieback2.jpg')";
                      else if(i==2)
                      document.getElementById("div1").style.backgroundImage="url('movieback3.jpg')";
 
                      i++;
                     },5000);
}



$(document).ready(function(){
  // Add smooth scrolling to all links
  $("#scrolldown").on('click', function(event) {

    // Make sure this.hash has a value before overriding default behavior
    if (this.hash !== "") {
      // Prevent default anchor click behavior
      event.preventDefault();

      // Store hash
      var hash = this.hash;

      // Using jQuery's animate() method to add smooth page scroll
      // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
      $('html, body').animate({
        scrollTop: $(hash).offset().top
      }, 2000, function(){
   
        // Add hash (#) to URL when done scrolling (default click behavior)
        window.location.hash = hash;
      });
    } // End if
  });
});

$(document).ready(function(){
    $("#search").click(function(){
        $("#infodiv").slideDown("slow");
    });
});


$(document).ready(function(){
    $("#reset").click(function(){
        $("#infodiv").slideUp("slow");
    });
});
$(document).ready(function(){
    $("#compare").click(function(){
        $("#comparison").slideDown("slow");
    });
});


$(document).ready(function(){
    $("#reset2").click(function(){
        $("#comparison").slideUp("slow");
    });
});










 </script>


</body>
</html>